<!doctype html>
<html lang="en">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
    <meta charset="utf-8">

<title>Rubyで綾波Quine</title>

<meta name="description" content="">
<meta name="author" content="284km">
<meta name="generator" content="reveal-ck 3.8.0">



<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

<link rel="stylesheet" href="css/reveal.css">
<link rel="stylesheet" href="css/theme/night.css" id="theme">

<!-- Code syntax highlighting -->
<link rel="stylesheet" href="lib/css/zenburn.css">

<link rel="stylesheet" href="css/reveal-ck.css">


<!-- Printing and PDF exports -->
<script>
  var link = document.createElement( 'link' );
  link.rel = 'stylesheet';
  link.type = 'text/css';
  link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
  document.getElementsByTagName( 'head' )[0].appendChild( link );
</script>

<!--[if lt IE 9]>
<script src="lib/js/html5shiv.js"></script>
<![endif]-->

  </head>

  <body>
    <div class="reveal">
  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">
    <section>

<h2>Rubyで綾波Quine</h2>
<h3>秒速<a href="https://github.com/284km" class="user-mention">@284km</a>
</h3>
<h5>渋谷.rb[:20171115]</h5>

<p><img src="../goku.jpg" alt="goku.jpg"></p>

</section>
<section>

<h2>秒速<a href="https://github.com/284km" class="user-mention">@284km</a>
</h2>
<p><img src="../goku.jpg" alt="goku.jpg"></p>

<ul>
  <li>feedforce エンジニア</li>
  <li>Rails Developers Meetup</li>
</ul>

</section>
<section>

<h2>実用性なし</h2>
<h2>ネタです</h2>

</section>
<section>

<h2>Quine</h2>

<p>とにかくやってみたかった<br>
(こういうものです。デモします)</p>

</section>
<section>

<h3>ご覧ください</h3>

<p><img src="../ayanami.png" alt="ayanami.png"></p>

</section>
<section>

<h4>AA (こういう感じなのだが、崩れている…)</h4>

<pre><code>　　　　　　　　 　 　 　 ,.､-:::ir､、
　　　　　　　　　　　／:::::::::::::::::..＼
　　　　　　　　　 ／:.:::::､::::::::::';:::::.. i
　　　 　 　 　 　 | i::::,::ト_＼:､:::';:::l: l
　　　　　　　　　｀'!､!ﾄ|!:ャ|`':|:::j:/!〈_,.._
　　　　　　　　　　　　!|;!､.!:l::|:/、,､:'´　'､
　　　　　　　　　　　　　`ヾ!''" /l,､-―::､'､
　　　　　　　　　　　　　　　　f.r--‐､ヽ::::::`、
　　　　　　　　　　　　　　　 /.l゛,:　　ヽヽ::::::'、
　　　　　　　　　　 　 　 　 /.r'´　　　 〉 l::::::l
　　　　　　　　　　　　　　/／　　　　 / 　!::::l
　　　　　　　　　　　　　 ,.'､　　　 　 '|　,.: _|;::〉
　　　　　　 　 　 　 　 ／　 &gt;-､..,__ ﾉ‐'"´_;::':〉
　　　　　　　　　　 ,､' 　 ／'　　　 〈 :::::::::::::: ',
　　　　　 　 　 　 /　　/／　　　 /.!::::::::::::::::: ',
　　　　　 　 　 ／　／'´　　　　/::::::::::::::::::::::::::',
　　　　　　_,.r '　,∠l,_　　　　 /::::/::::::::::::::::::::::::l
　　　　　 〈:i!　　,k';m」 　 　 /::::/:::::::::::::::::::::::::::!
　　　　 　 ｀i`i"|`i'"´　　　 /::::/:::::::::::::::::::::::::::/
　　 ,.､-=＝l＝!=|i:.､　　　/:::::/::::::::::::::::::::::::::/
　　| `'＝===＝77"|　　/::::::/::::::::::::::::::::::::::(
　　 !　　　　　　　　!　 /:::::〃::::::::::::::::::::;;:‐〈　　　　　,､-ri
　　 |　　２－A　　 |　/:::::〃::::::::::::;;:-‐'':::::::::〉==＝'゛;ヾ´ヾ､
　 　 !　 　 　 　 　 l　ヽ::::||::::::‐''"::::::::::::::::;イ;;;;;;;;;;;;;;;;;;;;;;;l　l|
　　　|､..,,, __　__ ,,...|　&lt;ヽ::||::::::::::::::;--― ゛ ,!;､-‐ '''"フ;ド　 !
　　　`''' ‐ -- ‐ '''"　　`ヽ!､__,,∠_,､ -‐''"´　　　　(;r';､',,_,〃
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　￣
</code></pre>

</section>
<section>

<h3>見えづらいので画像で</h3>

<p><img src="../ayanamiaa.png" alt="ayanamiaa.png"></p>

</section>
<section>

<p>ayanami_quine.rb</p>

<pre><code>eval$s=%w'b="BAhsKwGGAAAA/B8AAAAAAAAAwP//DwAAAAAAAPjvf/4CAAAAAADoe3e+AAAAAAAArE/+ywAAAAAAAADrPwQAAAAAAAAAOA0DAAAAAAAAAACHfwAAAAAAAACAI/wPAAAAAAAAwAXsHwAAAAAAAHAA8QMAAAAAAAAQAMR0AAAAAAAAxobFBgAAAAAAQDDA/n8AAAAAABAO+P9/AAAAAABmAP7//w8AAADAQAD8////AQAA+CAB/v///wcAAHBXgP////8BAED/H/D///8/AAAQ/4f/////AwAAIABA/P//Pw8AByBMkP//Z/z/bQNAAED+//z/NwAAQAOA5///u8lwIwBoIThIM0AJBgAAAAAAAAAADA==";n=Marshal.load(b.unpack("m")[0]);e="eval$s=%w"&lt;&lt;39&lt;&lt;($s*3);o="";j=-1;0.upto(27*80-1){|i|o&lt;&lt;((n[i]==1)?e[j+=1]:32);o&lt;&lt;((i%80==79)?10:"")};o[-10,6]=""&lt;&lt;39&lt;&lt;".join";puts(o)#'.join
</code></pre>

</section>
<section>

<p>ちょっと AA が残念な感じだけど…</p>

<pre><code class="language-ruby">$ ruby ayanami_quine.rb
                          eval$s=%w'b
                      ="BAhsKwGGAAAA/B8AAAAA
                   AAAAwP//D wAAAAAAAPj  vf/4CAA A
                   A AADoe 3e+A AAA AAA  ArE/+ y
                  wA A AAAAA  A  DrPwQAAAA A  AA
                        AA O A0DAAAAAA    A
                           AAA  C Hf    wA
                                AAA    AAAACAI/
                               wPA   A    AAAAAAwAXs
                              HwA A       AA AAAHAA8Q
                            MAA         A   AAAAAQ
                            A             M   R0  A AAA
                         AA   AA xo    bF B   gA AA
                      A     AA        QD DA/n8AAAAAABAO
                    +    P9/       AAAAAABmAP7//w8AAADA
                 QA  D8          ////AQAA+CAB/v///wcAAHBXgP/
              //      /           8BAED/H/D///8/AAAQ/4f/////AwAAI
           ABA/P     /  /        Pw8AByBMkP//Z/z/bQNAAED+//z/NwAAQA
            OA5 /// u 8        lwIwBoIThIM0AJBgAAAAAAAAAADA==";n=
      M arshal.load(b       .unpack("m")[0]);e="eval$s=%w"&lt;&lt;39
    &lt;   &lt;($s*3);o="    ";j=-1;0.upto(27*80-1){|i|o&lt;&lt;((n[i]
     =                =   1)?e[j+=1]:32);o&lt;&lt;((i%80==79  )?10            :""
     )    };  o     [  -10,6]=""&lt;&lt;39&lt;&lt;".joi  n"   ;puts(o)#b="BAh sK wG GA
      A               A  A/B8AAAAAAAAAwP  //DwAAAAAAAPjvf/4 CA
      A AA             AADo  e3e+AAAAAAAArE/+ywAAA AAA AA  D  rP    wQA AA   A
           A AA A    A     OA0     D  A AA  AA        A A  A     AA
                                                          CH           '.join
</code></pre>

</section>
<section>

<p>あとは解説をします。</p>

<pre><code>00000000000000000000000000111111111110000000000000000000000000000000000000000000
00000000000000000000001111111111111111111111000000000000000000000000000000000000
00000000000000000001111111110111111111100111111101000000000000000000000000000000
00000000000000000001011111011110111､11100111110100000000000000000000000000000000
00000000000000000011010111110010011111111101001100000000000000000000000000000000
00000000000000000000000011010111111111000010000000000000000000000000000000000000
00000000000000000000000000011100101100001100000000000000000000000000000000000000
00000000000000000000000000000000111000011111111000000000000000000000000000000000
00000000000000000000000000000001110001000011111111110000000000000000000000000000
0000000000000000000000000000001110´000000011011111111000000000000000000000000000
00000000000000000000000000001110000000001000111111000000000000000000000000000000
00000000000000000000000000001000000000000010001100101110000000000000000000000000
00000000000000000000000001100011011000011010001101100000000000000000000000000000
00000000000000000000001000001100000000110111111111111110000000000000000000000000
00000000000000000000100001110000000111111111111111111110000000000000000000000000
00000000000000000110011000000000011111111111111111111111111100000000000000000000
00000000000000110000001000000000001111111111111111111111111111111000000000000000
00000000000111110000010010000000011111111111111111111111111111111110000000000000
00000000000011101110101000000001111111111111111111111111111111111000000000000000
00000010111111111111100000001111111111111111111111111111111111000000000000000000
00001000111111177110000111111111111111111111111111111111110000000000000000000000
00000100000000000000001000111111111111111111111111111100111100000000000011100000
00000100001100100000100111111111111111111110011000111111111111111011011011000000
00000010000000000000001001111111111111110011111111111111111011000000000000000000
00000010110000000000000111100111111111111111111111011101100100110000111011000100
00000000000101101000010000011100000100101100110000000010100､00000110000000000000
00000000000000000000000000000000000000000000000000000000001100000000000000000000
</code></pre>

</section>
<section>

<p>こんな感じなのです</p>

<pre><code>bits = aa.gsub("\n", "").reverse.to_i(2)
b = [Marshal.dump(bits)].pack("m").gsub("\n", "")
</code></pre>

<pre><code>b="BAhsKwGGAAAA/B8AAAAAAAAAwP//DwAAAAAAAPjvf/4CAAAAAADoe3e+AAAAAAAArE/+ywAAAAAAAADrPwQAAAAAAAAAOA0DAAAAAAAAAACHfwAAAAAAAACAI/wPAAAAAAAAwAXsHwAAAAAAAHAA8QMAAAAAAAAQAMR0AAAAAAAAxobFBgAAAAAAQDDA/n8AAAAAABAO+P9/AAAAAABmAP7//w8AAADAQAD8////AQAA+CAB/v///wcAAHBXgP////8BAED/H/D///8/AAAQ/4f/////AwAAIABA/P//Pw8AByBMkP//Z/z/bQNAAED+//z/NwAAQAOA5///u8lwIwBoIThIM0AJBgAAAAAAAAAADA==";
n=Marshal.load(b.unpack("m")[0]);
e="eval$s=%w"&lt;&lt;39&lt;&lt;($s*3);
o="";
j=-1;
0.upto(27*80-1){|i|o&lt;&lt;((n[i]==1)?e[j+=1]:32);
o&lt;&lt;((i%80==79)?10:"")};
o[-10,6]=""&lt;&lt;39&lt;&lt;".join";
puts(o)#

#=&gt; eval$s=%w''.join
</code></pre>

</section>
<section>

<h2>おしまい</h2>

<ul>
  <li><a href="https://github.com/284km/ayanami_quine">284km/ayanami_quine</a></li>
</ul>

</section>

  </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>


<script>
  (function() {
  function extend( a, b ) {
    for(var i in b) {
      a[i] = b[i];
    }
  }
  var baseOptions = {
    transition: 'default',

    dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true },
      { src: 'plugin/notes/notes.js', async: true }
    ]
  };

  

  var configOptions = {"controls":true,"progress":true,"history":true,"center":true}
  var initializeOptions = {};
  extend(initializeOptions, baseOptions);
  extend(initializeOptions, configOptions);
  Reveal.initialize(initializeOptions);
})();

</script>

  </body>
</html>
